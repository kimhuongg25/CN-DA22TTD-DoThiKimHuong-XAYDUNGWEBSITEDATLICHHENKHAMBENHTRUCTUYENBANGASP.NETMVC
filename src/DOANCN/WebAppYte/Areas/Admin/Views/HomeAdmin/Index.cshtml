@{
    ViewBag.Title = "Trang chủ Quản trị";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAd.cshtml";
    var u = Session["userAdmin"] as WebAppYte.Models.QuanTri;
}

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

<style>
    :root {
        --primary: #4e73df;
        --secondary: #858796;
        --success: #1cc88a;
        --info: #36b9cc;
        --warning: #f6c23e;
        --danger: #e74a3b;
        --purple: #6f42c1; /* Thêm màu tím */
        --bg-light: #f8f9fc;
    }

    body {
        font-family: 'Inter', sans-serif;
        background-color: var(--bg-light);
    }

    .dashboard-container {
        padding: 30px;
    }

    /* Welcome Banner */
    .welcome-card {
        background: linear-gradient(135deg, #4e73df 0%, #224abe 100%);
        color: white;
        border-radius: 12px;
        padding: 30px;
        margin-bottom: 30px;
        box-shadow: 0 4px 15px rgba(78, 115, 223, 0.2);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .welcome-text h2 {
        font-weight: 800;
        margin-bottom: 10px;
    }

    .welcome-text p {
        margin: 0;
        opacity: 0.9;
        font-size: 16px;
    }

    /* Quick Access Cards */
    .section-title {
        font-size: 18px;
        font-weight: 700;
        color: #5a5c69;
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .shortcut-card {
        background: white;
        border-radius: 10px;
        padding: 25px;
        text-align: center;
        transition: transform 0.3s, box-shadow 0.3s;
        border: 1px solid #e3e6f0;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-decoration: none;
        color: #5a5c69;
    }

        .shortcut-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            text-decoration: none;
            color: var(--primary);
            border-color: var(--primary);
        }

    .shortcut-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        margin-bottom: 15px;
        color: white;
    }

    .shortcut-title {
        font-weight: 700;
        font-size: 16px;
    }

    /* Colors for Icons */
    .bg-blue {
        background-color: var(--primary);
    }

    .bg-green {
        background-color: var(--success);
    }

    .bg-cyan {
        background-color: var(--info);
    }

    .bg-yellow {
        background-color: var(--warning);
    }

    .bg-red {
        background-color: var(--danger);
    }

    .bg-purple {
        background-color: var(--purple);
    }
    /* Class mới cho Khoa */

    /* Login Warning */
    .login-warning {
        height: 80vh;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        flex-direction: column;
    }
</style>

<div class="dashboard-container">
    @if (u != null)
    {
        <div class="welcome-card">
            <div class="welcome-text">
                <h2>Xin chào, @u.HoTen!</h2>
                <p>Chào mừng bạn quay trở lại trang quản trị hệ thống Y tế.</p>
                <p class="mt-2"><small><i class="far fa-clock"></i> Đăng nhập lần cuối: @DateTime.Now.ToString("dd/MM/yyyy HH:mm")</small></p>
            </div>
            <div class="d-none d-md-block">
                <i class="fas fa-user-shield fa-4x" style="opacity: 0.8;"></i>
            </div>
        </div>

        <div class="section-title">
            <i class="fas fa-th-large me-2"></i> Chức năng quản lý
        </div>

        <div class="row g-4">
            <div class="col-xl-3 col-md-6 mb-4">
                <a href="@Url.Action("Index", "QuanTris")" class="shortcut-card">
                    <div class="shortcut-icon bg-blue">
                        <i class="fas fa-user-md"></i>
                    </div>
                    <div class="shortcut-title">Quản lý Bác sĩ</div>
                </a>
            </div>

            <div class="col-xl-3 col-md-6 mb-4">
                <a href="@Url.Action("Index", "Khoas")" class="shortcut-card">
                    <div class="shortcut-icon bg-purple">
                        <i class="fas fa-hospital"></i>
                    </div>
                    <div class="shortcut-title">Quản lý Chuyên Khoa</div>
                </a>
            </div>

            <div class="col-xl-3 col-md-6 mb-4">
                <a href="@Url.Action("Index", "LichKhams")" class="shortcut-card">
                    <div class="shortcut-icon bg-green">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="shortcut-title">Quản lý Lịch khám</div>
                </a>
            </div>

            <div class="col-xl-3 col-md-6 mb-4">
                <a href="@Url.Action("Index", "Tintucs")" class="shortcut-card">
                    <div class="shortcut-icon bg-cyan">
                        <i class="fas fa-newspaper"></i>
                    </div>
                    <div class="shortcut-title">Quản lý Tin tức</div>
                </a>
            </div>

            <div class="col-xl-3 col-md-6 mb-4">
                <a href="@Url.Action("Index", "HoiDaps")" class="shortcut-card">
                    <div class="shortcut-icon bg-yellow">
                        <i class="fas fa-comments"></i>
                    </div>
                    <div class="shortcut-title">Hỏi đáp & Tư vấn</div>
                </a>
            </div>

            <div class="col-xl-3 col-md-6 mb-4">
                <a href="@Url.Action("Index", "NguoiDungs")" class="shortcut-card">
                    <div class="shortcut-icon bg-red">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="shortcut-title">Quản lý Bệnh nhân</div>
                </a>
            </div>
        </div>

        <div class="text-center mt-5">
            <img src="~/images/images/bg-admin.png" alt="Admin Dashboard"
                 style="max-width: 60%; opacity: 0.8; border-radius: 10px;"
                 onerror="this.style.display='none'" />
        </div>
    }
    else
    {
        <div class="login-warning">
            <div class="card p-5 shadow-lg border-0" style="border-radius: 16px;">
                <i class="fas fa-lock fa-4x text-warning mb-3"></i>
                <h3 class="fw-bold text-dark">Phiên đăng nhập hết hạn</h3>
                <p class="text-muted mb-4">Vui lòng đăng nhập lại để truy cập trang quản trị.</p>

                <a href="@Url.Action("Dangnhap", "Home", new { area = "" })" class="btn btn-primary btn-lg px-5" style="border-radius: 50px;">
                    <i class="fas fa-sign-in-alt me-2"></i> Đăng nhập ngay
                </a>

            </div>
        </div>
    }
</div>